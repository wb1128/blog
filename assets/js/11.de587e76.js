(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{413:function(t,e,a){"use strict";a.r(e);var r=a(2),i=Object(r.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"arrify"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#arrify"}},[t._v("#")]),t._v(" arrify")]),t._v(" "),e("p",[e("strong",[t._v("本文参加了由")]),e("a",{attrs:{href:"https://lxchuan12.gitee.io",target:"_blank",rel:"noopener noreferrer"}},[t._v("公众号@若川视野"),e("OutboundLink")],1),t._v("** 发起的每周源码共读活动，**"),e("a",{attrs:{href:"https://juejin.cn/post/7079706017579139102",target:"_blank",rel:"noopener noreferrer"}},[t._v("点击了解详情一起参与。"),e("OutboundLink")],1)]),t._v(" "),e("h2",{attrs:{id:"package-json"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#package-json"}},[t._v("#")]),t._v(" package.json")]),t._v(" "),e("p",[t._v("exports：导出了index.js\nscripts：只有test命令\nxo：ESLint检查\nava：测试运行器\ntsd：检查 TypeScript 类型定义")]),t._v(" "),e("h2",{attrs:{id:"arrify-index-js"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#arrify-index-js"}},[t._v("#")]),t._v(" arrify\\index.js")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://github.com/sindresorhus/arrify",target:"_blank",rel:"noopener noreferrer"}},[t._v("arrify"),e("OutboundLink")],1),t._v("：将值转换为数组")]),t._v(" "),e("p",[t._v("基本类型：string、number、boolean、null、undefined、symbol、bigint\n引用类型：object、array、map、set、Function， Date， RegExp等等")]),t._v(" "),e("p",[t._v("我们可以思考上面的类型如何转换为数组")]),t._v(" "),e("ol",[e("li",[t._v("基本类型理应转换为 [对应类型]")]),t._v(" "),e("li",[t._v("当然基本类型null、undefined，作者提到会返回空数组[]")]),t._v(" "),e("li",[t._v("引用类型中存在"),e("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Iteration_protocols#%E5%8F%AF%E8%BF%AD%E4%BB%A3%E5%AF%B9%E8%B1%A1%E7%A4%BA%E4%BE%8B",target:"_blank",rel:"noopener noreferrer"}},[t._v("迭代器"),e("OutboundLink")],1),t._v("需要扩展开来，其余的 [对应类型]")])]),t._v(" "),e("p",[e("img",{attrs:{src:"https://cdn.nlark.com/yuque/0/2022/png/12565912/1653273240588-ace868ea-5a70-4264-a9b0-ec3422374746.png#clientId=u8b6063b5-ac23-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=366&id=ua86e232b&margin=%5Bobject%20Object%5D&name=image.png&originHeight=366&originWidth=454&originalType=binary&ratio=1&rotation=0&showTitle=false&size=21518&status=done&style=none&taskId=u22b50b2d-6ec1-42d2-8cc5-a4ee6ff87fb&title=&width=454",alt:"image.png"}}),t._v("\n看源代码判断顺序如下：")]),t._v(" "),e("ol",[e("li",[t._v("null和undefined")]),t._v(" "),e("li",[t._v("数组")]),t._v(" "),e("li",[t._v("字符串（字符串判断放在这里是因为，字符串String 内置了可迭代对象）")]),t._v(" "),e("li",[t._v("是否是迭代器")]),t._v(" "),e("li",[t._v("剩余其它类型直接包裹成数组")])]),t._v(" "),e("h2",{attrs:{id:"arrify-test-js"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#arrify-test-js"}},[t._v("#")]),t._v(" arrify\\test.js")]),t._v(" "),e("p",[t._v("看一下npm run test\n"),e("img",{attrs:{src:"https://cdn.nlark.com/yuque/0/2022/png/12565912/1653275007284-c1f08055-1ace-44c9-9ef3-26dda0c8c631.png#clientId=u8b6063b5-ac23-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=57&id=u8a14b015&margin=%5Bobject%20Object%5D&name=image.png&originHeight=57&originWidth=287&originalType=binary&ratio=1&rotation=0&showTitle=false&size=2755&status=done&style=none&taskId=u5fa1fbab-eff9-4799-9785-fe023c3649b&title=&width=287",alt:"image.png"}})]),t._v(" "),e("h3",{attrs:{id:"xo"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#xo"}},[t._v("#")]),t._v(" xo")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://cdn.nlark.com/yuque/0/2022/png/12565912/1653286825410-6db173b4-cee7-4d96-bd6f-f8f12baf05ee.png#clientId=u8b6063b5-ac23-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=333&id=u09ece6b2&margin=%5Bobject%20Object%5D&name=image.png&originHeight=333&originWidth=885&originalType=binary&ratio=1&rotation=0&showTitle=false&size=47012&status=done&style=none&taskId=u5232dd5b-efaf-4dcc-a29a-165cf928bf4&title=&width=885",alt:"image.png"}})]),t._v(" "),e("p",[e("img",{attrs:{src:"https://cdn.nlark.com/yuque/0/2022/png/12565912/1653286835950-3a6fddd0-9a6e-43a8-81aa-a90612032f30.png#clientId=u8b6063b5-ac23-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=161&id=uf52c728c&margin=%5Bobject%20Object%5D&name=image.png&originHeight=161&originWidth=588&originalType=binary&ratio=1&rotation=0&showTitle=false&size=8680&status=done&style=none&taskId=ub2ad2d78-29ee-4354-a8f5-7d0aadd28d1&title=&width=588",alt:"image.png"}})]),t._v(" "),e("h3",{attrs:{id:"ava"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ava"}},[t._v("#")]),t._v(" ava")]),t._v(" "),e("p",[t._v("test.js覆盖了代码中的if判断")]),t._v(" "),e("h3",{attrs:{id:"tsd"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#tsd"}},[t._v("#")]),t._v(" tsd")]),t._v(" "),e("p",[t._v("arrify\\index.d.ts\n"),e("img",{attrs:{src:"https://cdn.nlark.com/yuque/0/2022/png/12565912/1653287886317-4af114b2-92ef-4d44-9fb4-df21d66122b2.png#clientId=u8b6063b5-ac23-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=223&id=u94eb04f9&margin=%5Bobject%20Object%5D&name=image.png&originHeight=223&originWidth=564&originalType=binary&ratio=1&rotation=0&showTitle=false&size=22711&status=done&style=none&taskId=ubbec2795-b0f4-4e85-b669-45e5003611b&title=&width=564",alt:"image.png"}})]),t._v(" "),e("p",[e("img",{attrs:{src:"https://cdn.nlark.com/yuque/0/2022/png/12565912/1653288058413-b3524d29-b94c-4250-90da-132fe4c17b92.png#clientId=u8b6063b5-ac23-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=217&id=uc0a1ba0b&margin=%5Bobject%20Object%5D&name=image.png&originHeight=217&originWidth=542&originalType=binary&ratio=1&rotation=0&showTitle=false&size=27563&status=done&style=none&taskId=u8d7c37dc-a8ad-412d-ab72-172a6b54366&title=&width=542",alt:"image.png"}})])])}),[],!1,null,null,null);e.default=i.exports}}]);